# [openGauss每日一练第4天-数据库用户相关](https://www.modb.pro/db/568204)

## 1. 用户权限
[参考文档](https://docs.opengauss.org/zh/docs/3.1.0-lite/docs/Developerguide/%E7%AE%A1%E7%90%86%E7%94%A8%E6%88%B7%E5%8F%8A%E6%9D%83%E9%99%90.html)

* 初始用户(例如实验中的omm用户)
    数据库安装过程中**自动生成的帐户称为初始用户**。初始用户拥有系统的最高权限，能够执行所有的操作。如果安装时不指定初始用户名称则该帐户与进行数据库安装的操作系统用户同名。如果在安装时不指定初始用户的密码，安装完成后密码为空，在执行其他操作前需要通过gsql客户端修改初始用户的密码。**如果初始用户密码为空，则除修改密码外无法执行其他SQL操作以及升级、节点替换等操作**。
    初始用户会绕过所有权限检查。建议仅将此初始用户作为DBA管理用途，而非业务应用。
* 系统管理员(例如实验中的user1, user2, user3)
  系统管理员是指具有SYSADMIN属性的帐户，默认安装情况下具有与对象所有者相同的权限
  **我的理解**：**在该实验中在omm用户下创建表空间及数据库，就是一个对象，然后再创建三个管理员用户，所以这三个用户与对象管理员omm对该数据库具有相同的权限**  
<center>以下简单了解</center>

---
* 监控管理员
  监控管理员是指具有MONADMIN属性的帐户，具有查看dbe_perf模式下视图和函数的权限，亦可以对dbe_perf模式的对象权限进行授予或收回。
* 运维管理员
  运维管理员是指具有OPRADMIN属性的帐户。
* 安全策略管理员
  安全策略管理员是指具有POLADMIN属性的帐户，具有创建资源标签，脱敏策略和统一审计策略的权限。

## 2. 用户与数据库关系
openGauss包含一个或多个已命名数据库用户和角色在openGauss范围内是共享的，但是其数据并不共享。即用户可以连接任何数据库，但当连接成功后，任何用户都只能访问连接请求里声明的那个数据库。

* 普通用户
* 私有用户
* 永久用户
  


## 3. 每日sql语句
`CREATE USER joe WITH CREATEDB PASSWORD"xxxxxxxxx";`
> 创建普通用户并设定密码


`ALTER USER joe SYSADMIN;` 
`CREATE USER sysadmin WITH SYSADMIN password "xxxxxxxxx";`
> 创建系统管理员，注意需要再初始用户或管理员用户下创建 

